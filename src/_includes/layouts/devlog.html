{% extends "layouts/base.html" %}

{% set pageHeaderTitle = title %}
{% set pageHeaderSummary = content %}
{% set postListItems = collections.posts %}

{# If this is a tag, grab those items instead as one large collection #}
{% if tag %}
	{% set postListItems = collections[tag] %}
	{% set pageHeaderTitle = 'Posts filed under “' + tag + '”' %}
{% endif %}

{% block content %}
{% include "partials/page-header.html" %}
<article class="content">
	<section class="content__container">
		<h2 class="content content__header content__header--left">Latest Post</h2>
	</section>
	<div class="content content--flex-row content__featured">
		{% set featuredPost = postListItems[0] %}
		<h2 class="content content__header content__header--featured">{{ featuredPost.data.title }}</h2>
		<a href="{{ item.url }}" class="content content__link">
			<img class="content content__image" src="{{ featuredPost.data.image }}" alt="{{ featuredPost.data.title }} head image.">
		</a>
	</div>
</article>
<article class="content">
	<section>
		<h2 class="content content__header content__header--center">All Posts</h2>
		<div class="content content__grid">
			{% for item in postListItems %}
			<li class="content content__item">
				<a href="{{ item.url }}" class="content content__link">{{ item.data.title }}</a>
			</li>
			{% endfor %}
		</div>
	</section>
</article>

{% include "partials/cta.html" %}
{% endblock %}
